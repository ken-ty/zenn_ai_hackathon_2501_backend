apple@kenty-work-mac zenn_ai_hackathon_2501_backend % curl -X POST -F "file=@test.jpg" http://localhost:8080/upload

Failed to generate image: client.Predict: rpc error: code = Internal desc = grpc: error while marshaling: string field contains invalid UTF-8
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % curl http://localhost:8080/questions
{"questions":[{"id":"image_1738826600","original_image":"original/image_1738826600.jpg","fake_images":[],"correct_index":0,"created_at":"2025-02-06T07:23:23Z"}]}
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % curl -X POST -F "file=@test.jpg" http://localhost:8080/upload

Failed to generate image: client.Predict: rpc error: code = Unavailable desc = 503:Service Unavailable
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % curl -X POST -F "file=@test.jpg" http://localhost:8080/upload

Failed to generate image: client.Predict: rpc error: code = Unavailable desc = 503:Service Unavailable
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % curl -X POST -F "file=@test.jpg" http://localhost:8080/upload

Failed to generate image: client.Predict: rpc error: code = NotFound desc = Endpoint `projects/zenn-ai-hackathon-2501/locations/us-east1/endpoints/8833806244903124992` not found.
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud ai models list

Please specify a region:
 [1] africa-south1
 [2] asia-east1
 [3] asia-east2
 [4] asia-northeast1
 [5] asia-northeast2
 [6] asia-northeast3
 [7] asia-south1
 [8] asia-southeast1
 [9] asia-southeast2
 [10] australia-southeast1
 [11] australia-southeast2
 [12] europe-central2
 [13] europe-north1
 [14] europe-southwest1
 [15] europe-west1
 [16] europe-west2
 [17] europe-west3
 [18] europe-west4
 [19] europe-west6
 [20] europe-west8
 [21] europe-west9
 [22] europe-west12
 [23] me-central1
 [24] me-central2
 [25] me-west1
 [26] northamerica-northeast1
 [27] northamerica-northeast2
 [28] southamerica-east1
 [29] southamerica-west1
 [30] us-central1
 [31] us-east1
 [32] us-east4
 [33] us-east5
 [34] us-south1
 [35] us-west1
 [36] us-west2
 [37] us-west3
 [38] us-west4
 [39] cancel
Please enter your numeric choice:  31

To make this the default region, run `gcloud config set ai/region us-east1`.

Using endpoint [https://us-east1-aiplatform.googleapis.com/]
Listed 0 items.
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud ai models describe imagegeneration
Please specify a region:
 [1] africa-south1
 [2] asia-east1
 [3] asia-east2
 [4] asia-northeast1
 [5] asia-northeast2
 [6] asia-northeast3
 [7] asia-south1
 [8] asia-southeast1
 [9] asia-southeast2
 [10] australia-southeast1
 [11] australia-southeast2
 [12] europe-central2
 [13] europe-north1
 [14] europe-southwest1
 [15] europe-west1
 [16] europe-west2
 [17] europe-west3
 [18] europe-west4
 [19] europe-west6
 [20] europe-west8
 [21] europe-west9
 [22] europe-west12
 [23] me-central1
 [24] me-central2
 [25] me-west1
 [26] northamerica-northeast1
 [27] northamerica-northeast2
 [28] southamerica-east1
 [29] southamerica-west1
 [30] us-central1
 [31] us-east1
 [32] us-east4
 [33] us-east5
 [34] us-south1
 [35] us-west1
 [36] us-west2
 [37] us-west3
 [38] us-west4
 [39] cancel
Please enter your numeric choice:  31

To make this the default region, run `gcloud config set ai/region us-east1`.

Using endpoint [https://us-east1-aiplatform.googleapis.com/]
ERROR: (gcloud.ai.models.describe) NOT_FOUND: The Model does not exist. This command is authenticated as kentokuracs@gmail.com which is the active account specified by the [core/account] property.
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud config set ai/region us-east1
Updated property [ai/region].
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud ai models list --region=us-east1

Using endpoint [https://us-east1-aiplatform.googleapis.com/]
Listed 0 items.
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud services enable aiplatform.googleapis.com
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud config set ai/region us-central1

Updated property [ai/region].
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud ai models list
Using endpoint [https://us-central1-aiplatform.googleapis.com/]
Listed 0 items.
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud ai models list --filter="display_name:text-to-image"

Using endpoint [https://us-central1-aiplatform.googleapis.com/]
WARNING: The following filter keys were not present in any resource : display_name
Listed 0 items.
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud ai models list --filter="display_name:stable-diffusion"
Using endpoint [https://us-central1-aiplatform.googleapis.com/]
WARNING: The following filter keys were not present in any resource : display_name
Listed 0 items.
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud projects get-iam-policy zenn-ai-hackathon-2501 
bindings:
- members:
  - serviceAccount:service-1074614507777@gcp-sa-aiplatform.iam.gserviceaccount.com
  role: roles/aiplatform.serviceAgent
- members:
  - serviceAccount:zenn-ai-backend@zenn-ai-hackathon-2501.iam.gserviceaccount.com
  role: roles/aiplatform.user
- members:
  - user:kentokuracs@gmail.com
  role: roles/artifactregistry.reader
- members:
  - serviceAccount:service-1074614507777@gcp-sa-artifactregistry.iam.gserviceaccount.com
  role: roles/artifactregistry.serviceAgent
- members:
  - serviceAccount:1074614507777-compute@developer.gserviceaccount.com
  role: roles/artifactregistry.writer
- members:
  - serviceAccount:1074614507777-compute@developer.gserviceaccount.com
  - serviceAccount:1074614507777@cloudbuild.gserviceaccount.com
  role: roles/cloudbuild.builds.builder
- members:
  - serviceAccount:service-1074614507777@gcp-sa-cloudbuild.iam.gserviceaccount.com
  role: roles/cloudbuild.serviceAgent
- members:
  - serviceAccount:service-1074614507777@container-analysis.iam.gserviceaccount.com
  role: roles/containeranalysis.ServiceAgent
- members:
  - serviceAccount:service-1074614507777@containerregistry.iam.gserviceaccount.com
  role: roles/containerregistry.ServiceAgent
- members:
  - serviceAccount:1074614507777-compute@developer.gserviceaccount.com
  role: roles/editor
- members:
  - serviceAccount:service-1074614507777@gcp-sa-firebase.iam.gserviceaccount.com
  role: roles/firebase.managementServiceAgent
- members:
  - serviceAccount:firebase-adminsdk-fbsvc@zenn-ai-hackathon-2501.iam.gserviceaccount.com
  role: roles/firebase.sdkAdminServiceAgent
- members:
  - serviceAccount:service-1074614507777@gcp-sa-firebasevertexai.iam.gserviceaccount.com
  role: roles/firebaseml.serviceAgent
- members:
  - serviceAccount:firebase-adminsdk-fbsvc@zenn-ai-hackathon-2501.iam.gserviceaccount.com
  role: roles/iam.serviceAccountTokenCreator
- members:
  - serviceAccount:1074614507777-compute@developer.gserviceaccount.com
  role: roles/iam.serviceAccountUser
- members:
  - serviceAccount:1074614507777-compute@developer.gserviceaccount.com
  role: roles/logging.logWriter
- members:
  - user:kentokuracs@gmail.com
  role: roles/owner
- members:
  - serviceAccount:1074614507777-compute@developer.gserviceaccount.com
  - serviceAccount:zenn-ai-backend@zenn-ai-hackathon-2501.iam.gserviceaccount.com
  - user:kentokuracs@gmail.com
  role: roles/run.admin
- members:
  - serviceAccount:service-1074614507777@serverless-robot-prod.iam.gserviceaccount.com
  role: roles/run.serviceAgent
- members:
  - serviceAccount:zenn-ai-backend@zenn-ai-hackathon-2501.iam.gserviceaccount.com
  role: roles/storage.admin
etag: BwYtcVOZSTE=
version: 1
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud projects add-iam-policy-binding zenn-ai-hackathon-2501 \
    --member="serviceAccount:zenn-ai-backend@zenn-ai-hackathon-2501.iam.gserviceaccount.com" \
    --role="roles/aiplatform.modelUser"
Updated IAM policy for project [zenn-ai-hackathon-2501].
bindings:
- members:
  - serviceAccount:zenn-ai-backend@zenn-ai-hackathon-2501.iam.gserviceaccount.com
  role: roles/aiplatform.modelUser
- members:
  - serviceAccount:service-1074614507777@gcp-sa-aiplatform.iam.gserviceaccount.com
  role: roles/aiplatform.serviceAgent
- members:
  - serviceAccount:zenn-ai-backend@zenn-ai-hackathon-2501.iam.gserviceaccount.com
  role: roles/aiplatform.user
- members:
  - user:kentokuracs@gmail.com
  role: roles/artifactregistry.reader
- members:
  - serviceAccount:service-1074614507777@gcp-sa-artifactregistry.iam.gserviceaccount.com
  role: roles/artifactregistry.serviceAgent
- members:
  - serviceAccount:1074614507777-compute@developer.gserviceaccount.com
  role: roles/artifactregistry.writer
- members:
  - serviceAccount:1074614507777-compute@developer.gserviceaccount.com
  - serviceAccount:1074614507777@cloudbuild.gserviceaccount.com
  role: roles/cloudbuild.builds.builder
- members:
  - serviceAccount:service-1074614507777@gcp-sa-cloudbuild.iam.gserviceaccount.com
  role: roles/cloudbuild.serviceAgent
- members:
  - serviceAccount:service-1074614507777@container-analysis.iam.gserviceaccount.com
  role: roles/containeranalysis.ServiceAgent
- members:
  - serviceAccount:service-1074614507777@containerregistry.iam.gserviceaccount.com
  role: roles/containerregistry.ServiceAgent
- members:
  - serviceAccount:1074614507777-compute@developer.gserviceaccount.com
  role: roles/editor
- members:
  - serviceAccount:service-1074614507777@gcp-sa-firebase.iam.gserviceaccount.com
  role: roles/firebase.managementServiceAgent
- members:
  - serviceAccount:firebase-adminsdk-fbsvc@zenn-ai-hackathon-2501.iam.gserviceaccount.com
  role: roles/firebase.sdkAdminServiceAgent
- members:
  - serviceAccount:service-1074614507777@gcp-sa-firebasevertexai.iam.gserviceaccount.com
  role: roles/firebaseml.serviceAgent
- members:
  - serviceAccount:firebase-adminsdk-fbsvc@zenn-ai-hackathon-2501.iam.gserviceaccount.com
  role: roles/iam.serviceAccountTokenCreator
- members:
  - serviceAccount:1074614507777-compute@developer.gserviceaccount.com
  role: roles/iam.serviceAccountUser
- members:
  - serviceAccount:1074614507777-compute@developer.gserviceaccount.com
  role: roles/logging.logWriter
- members:
  - user:kentokuracs@gmail.com
  role: roles/owner
- members:
  - serviceAccount:1074614507777-compute@developer.gserviceaccount.com
  - serviceAccount:zenn-ai-backend@zenn-ai-hackathon-2501.iam.gserviceaccount.com
  - user:kentokuracs@gmail.com
  role: roles/run.admin
- members:
  - serviceAccount:service-1074614507777@serverless-robot-prod.iam.gserviceaccount.com
  role: roles/run.serviceAgent
- members:
  - serviceAccount:zenn-ai-backend@zenn-ai-hackathon-2501.iam.gserviceaccount.com
  role: roles/storage.admin
etag: BwYteXL5hvU=
version: 1
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud services enable modelgarden.googleapis.com
ERROR: (gcloud.services.enable) PERMISSION_DENIED: Not found or permission denied for service(s): modelgarden.googleapis.com.
Help Token: Ab6lFGeXgZeladyJMMO_L2AiFpQAeNn4n71KjsimhA8c7D0fQi7UEOOLq0FH1LQu8giZEL5t0NKEHA0lVZqXXacInP5p_Uo60DF_Huk2W6pSGCZ-. This command is authenticated as kentokuracs@gmail.com which is the active account specified by the [core/account] property
- '@type': type.googleapis.com/google.rpc.PreconditionFailure
  violations:
  - subject: ?error_code=220002&services=modelgarden.googleapis.com
    type: googleapis.com
- '@type': type.googleapis.com/google.rpc.ErrorInfo
  domain: serviceusage.googleapis.com
  metadata:
    services: modelgarden.googleapis.com
  reason: SERVICE_CONFIG_NOT_FOUND_OR_PERMISSION_DENIED
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud ai models list --region=us-central1
Using endpoint [https://us-central1-aiplatform.googleapis.com/]
Listed 0 items.
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % 
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % gcloud ai endpoints create \
  --region=us-central1 \
  --display-name="image-generation-endpoint"
Using endpoint [https://us-central1-aiplatform.googleapis.com/]
Waiting for operation [595273293175455744]...done.                                                        
Created Vertex AI endpoint: projects/1074614507777/locations/us-central1/endpoints/2013312443085750272.
apple@kenty-work-mac zenn_ai_hackathon_2501_backend %   gcloud ai endpoints list --region=us-central1

Using endpoint [https://us-central1-aiplatform.googleapis.com/]
ENDPOINT_ID          DISPLAY_NAME
2013312443085750272  image-generation-endpoint
apple@kenty-work-mac zenn_ai_hackathon_2501_backend % 
